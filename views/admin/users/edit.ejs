<%- include("../partials/header") %>
<%- include("../partials/sidebar") %>

<div class="content" id="content">
  <h1><%= admin.email%></h1>

  <form action="/admin/users/update/<%= admin.id %>" method="POST">


    <div class="form-group">
      <label>ID</label>
      <input type="text" name="id" required value="<%= admin.id%>">
    </div>
    
    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" required value="<%= admin.email%>">
    </div>

    <div class="form-group">
      <label>Domain</label>
      <input type="text" name="domain" required value="<%= admin.domain%>">
    </div>

    <div class="form-group">
    <label>Role</label>
    <select name="domain" required>
       
        <option value="ADMIN" <%= admin.role === 'ADMIN' ? 'selected' : '' %>>ADMIN</option>
        <option value="admin" <%= admin.role === 'USER' ? 'selected' : '' %>>USER</option>
    </select>
    </div>


    <div class="form-group">
      <label>Password</label>
      <input type="text" name="password">
    </div>

    <button type="submit" class="btn-add">Update admin</button>
  </form>
</div>

<% if (success) { %>
<script>
  iziToast.success({
    title: 'Success',
    message: <%- JSON.stringify(success) %>,
    timeout: 5000,

    // CUSTOM SIZE
    maxWidth: 500,       // increase width (default ~350px)
    titleSize: '24px',   // bigger title font
    messageSize: '18px', // bigger message font
    padding: 30,         // more padding inside toast
    balloon: true,       // optional: makes it more prominent
  });
</script>
<% } %>

<% if (error) { %>
<script>
  iziToast.error({
    title: 'Error',
    message: <%- JSON.stringify(error) %>,
    timeout: 5000,

    // CUSTOM SIZE
    maxWidth: 500,       // increase width (default ~350px)
    titleSize: '24px',   // bigger title font
    messageSize: '18px', // bigger message font
    padding: 30,         // more padding inside toast
    balloon: true,       // optional: makes it more prominent
  });
</script>
<% } %>


<%- include("../partials/footer") %>
