<%- include("../partials/header") %>
<%- include("../partials/sidebar") %>

<% if (error) { %>
<script>
  iziToast.error({
    title: 'Error',
    message: <%- JSON.stringify(error) %>,
    timeout: 5000,

    // CUSTOM SIZE
    maxWidth: 500,       // increase width (default ~350px)
    titleSize: '24px',   // bigger title font
    messageSize: '18px', // bigger message font
    padding: 30,         // more padding inside toast
    balloon: true,       // optional: makes it more prominent
  });
</script>
<% } %>

<% if (success) { %>
<script>
  iziToast.success({
    title: 'Success',
    message: <%- JSON.stringify(success) %>,
    timeout: 5000,

    // CUSTOM SIZE
    maxWidth: 500,       // increase width (default ~350px)
    titleSize: '24px',   // bigger title font
    messageSize: '18px', // bigger message font
    padding: 30,         // more padding inside toast
    balloon: true,       // optional: makes it more prominent
  });
</script>
<% } %>


<div class="content" id="content">
  <h1>Add New User</h1>

  <form action="/admin/users/add" method="POST">

    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" <%if(data){%> value="<%=data.email%>"<%}%> required placeholder="Enter email">
    </div>

    <div class="form-group">
      <label>Domain</label>
      <input type="text" <%if(data){%> value="<%=data.domain%>"<%}%> name="domain" required placeholder="Enter domain">
    </div>

    <div class="form-group">
      <label>Role</label>
      <select name="role" required>
         <option <%if(data && data.role == "USER"){%>selected<%}%> value="USER">USER</option>
        <option <%if(data && data.role == "ADMIN"){%>selected<%}%> value="ADMIN">ADMIN</option>
      </select>
    </div>

    <div class="form-group">
      <label>Password</label>
      <input type="password" name="password" required placeholder="Enter password">
    </div>

    <button type="submit" class="btn-add">Add User</button>
  </form>
</div>


<%- include("../partials/footer") %>
