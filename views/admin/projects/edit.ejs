<%- include("../partials/header") %>
<%- include("../partials/sidebar") %>

<div class="content" id="content">
  <h1>Edit Project</h1>

  <form action="/admin/projects/edit/<%= project.id %>" method="POST" enctype="multipart/form-data">
    
    <div class="form-group">
      <label>Title</label>
      <input
        type="text"
        name="title"
        value="<%= project.title %>"
        required
      >
    </div>

    <div class="form-group">
      <label>Short Description</label>
      <textarea name="shortDescription" rows="2" required><%= project.shortDescription %></textarea>
    </div>

    <div class="form-group">
      <label>Long Description</label>
      <textarea name="longDescription" rows="4"><%= project.longDescription %></textarea>
    </div>

    <% if (project.coverImageUrl) { %>
      <div class="form-group">
        <label>Current Cover Image</label><br>
        <img
          src="<%=url%>/uploads/images/<%= project.coverImageUrl %>"
          alt="Project Cover"
          style="max-width: 200px; margin-bottom: 10px;"
        >
      </div>
    <% } %>

    <div class="form-group">
      <label>Change Cover Image</label>
      <input type="file" name="coverImage" accept="image/*">
    </div>

    <div class="form-group">
      <label>GitHub URL</label>
      <input
        type="url"
        name="githubUrl"
        value="<%= project.githubUrl %>"
      >
    </div>

    <div class="form-group">
      <label>Live URL</label>
      <input
        type="url"
        name="liveUrl"
        value="<%= project.liveUrl %>"
      >
    </div>

    <button type="submit" class="btn-edit">Save Changes</button>

  </form>

  <form
    action="/admin/projects/delete/<%= project.id %>"
    method="POST"
    style="margin-top: 1rem;"
  >
    <button type="submit" class="btn-delete">Delete Project</button>
  </form>
</div>

<%- include("../partials/footer") %>
