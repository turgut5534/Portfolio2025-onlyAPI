<%- include("../partials/header") %>
<%- include("../partials/sidebar") %>


<div class="content" id="content">
  <h1>Titles</h1>
  <a class="btn btn-add" href="/admin/titles/add">+ Add</a>

  <% if (titles && titles.length > 0) { %>
    <div class="skills-container">
      <% titles.forEach(title => { %>
        <div class="skill-item" data-title-id="<%= title.id %>">
          <div class="skill-header">
            <span class="skill-title"><%= title.title %></span>
          </div>
          <div class="skill-actions">
            <a href="/admin/titles/edit/<%=title.id%>" class="btn btn-edit")">Edit</a>
            <a href="#" 
   class="btn btn-delete" 
   onclick="if(confirm('Are you sure you want to delete this skill?')) { 
              fetch('/admin/titles/delete/<%= title.id %>', { method: 'POST' })
                .then(() => location.reload())
                .catch(err => alert('Error deleting skill'));
            } 
            return false;">
   Delete
</a>

          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <p style="color:#bbb;">No title added yet.</p>
  <% } %>

</div>

<%- include("../partials/footer") %>
